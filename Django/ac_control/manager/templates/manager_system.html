<!DOCTYPE html>
<html>
{% load static %}
<head>
    <meta charset="UTF-8">
    <title>波普特酒店空调管理</title>
    <link rel="stylesheet" type="text/css" href="{% static 'style_ms.css'%}">
    <link rel="stylesheet" href="https://www.w3schools.cn/lib/bootstrap/3.4.1/css/bootstrap.min.css">
    <script src="https://ajax.aspnetcdn.com/ajax/jQuery/jquery-3.5.1.min.js"></script>
    <script src="https://www.w3schools.cn/lib/bootstrap/3.4.1/js/bootstrap.min.js"></script>
    
</head>
<body>
    <div class="blurred-background"></div>
    <div class="header">
        <div class="logo">
            <p>Poput Hotel</p>
        </div>
        <nav>
            <ul>
                <li><a href="#">首页</a></li>
                <li><a href="#">客房</a></li>
                <li><a href="#">餐厅</a></li>
                <li><a href="#">联系我们</a></li>           
            </ul>
        </nav>

        <nav>
            <ul>
                <li><a href="#">{{manager_name}}</a></li>      
            </ul>
        </nav>

    </div>

    <div class="tab">
        <button class="tablinks" onclick="openCity(event, 'occupied_rooms')">
            <h4>已入住房间</h4>
        </button>

        <button class="tablinks" onclick="openCity(event, 'empty_romms')">
            <h4>空闲房间</h4>
        </button>

        <button class="tablinks" onclick="openCity(event, 'history_record')">
            <h4>历史记录</h4>
        </button>
        <!-- <button class="tablinks" onclick="openCity(event, 'Tokyo')">Tokyo</button> -->
      </div>
      
      <div id="occupied_rooms" class="tabcontent">
        <div class="container">
            <h2>已入住房间</h2>  
            <!-- 搜索栏 -->
            <div class="search-bar">
                <input type="text" id="roomNumberSearch" placeholder="房间号">
                <input type="date" id="checkInDateSearch">
                <button onclick="filterTable()">搜索</button>
            </div>
            <table class="table table-hover">
                <thead>
                    <tr>
                        <th>房间号</th>
                        <th>入住时间</th>
                        <th>离开时间</th>
                        <th>空调总费用</th>
                        <th>操作</th>
                    </tr>
                </thead>

                <tbody>
                    {% for room_id, s in status.items %}
                    <tr>
                        <td>{{ room_id }}</td>
                        <td>{{ s.checkin_time }}</td>
                        <td>{{ s.checkout_time }}</td>
                        <td>{{ s.sum_fee|floatformat:2 }}</td>

                        <td>
                            <button onclick="downloadFile('{{ room_id }}')" class="button-primary">打印详单</button>
                            <button class="button-danger">退房</button>


                        </td>
                    </tr>
                    {% endfor %}
                </tbody>

                <!-- <tbody>
                    <tr>
                        <td>101</td>
                        <td>{{checkin_time101}}</td>
                        <td>{{checkout_time101}}</td>
                        <td>¥{{sum_cost101}}</td>
                        <td>
                            <button class="button-primary">打印详单</button>
                            <button class="button-danger">退房</button>
                        </td>
                    </tr>
                    <tr>
                        <td>102</td>
                        <td>{{checkin_time102}}</td>
                        <td>{{checkout_time102}}</td>
                        <td>¥{{sum_cost102}}</td>
                        <td>
                            <button class="button-primary">打印详单</button>
                            <button class="button-danger">退房</button>
                        </td>
                    </tr>
                    <tr>
                        <td>103</td>
                        <td>{{checkin_time103}}</td>
                        <td>{{checkout_time103}}</td>
                        <td>¥{{sum_cost103}}</td>
                        <td>
                            <button class="button-primary">打印详单</button>
                            <button class="button-danger">退房</button>
                        </td>
                    </tr>
                    <tr>
                        <td>104</td>
                        <td>{{checkin_time104}}</td>
                        <td>{{checkout_time104}}</td>
                        <td>¥{{sum_cost104}}</td>
                        <td>
                            <button class="button-primary">打印详单</button>
                            <button class="button-danger">退房</button>
                        </td>
                    </tr>
                    <tr>
                        <td>105</td>
                        <td>{{checkin_time105}}</td>
                        <td>{{checkout_time105}}</td>
                        <td>¥{{sum_cost105}}</td>
                        <td>
                            <button  class="button-primary">打印详单</button>
                            <button  class="button-danger">退房</button>
                        </td>
                    </tr>
                </tbody> -->
            </table>
        </div>
    </div>
      
      <div id="empty_romms" class="tabcontent">
        <div class="container">
            <h2>空闲房间</h2>
            <table class="table table-striped">
                <thead>
                    <tr>
                        <th>房间号</th>
                        <th>操作</th>
                    </tr>
                </thead>
                <tbody>
                    <!-- 数据行 -->
                </tbody>
            </table>
        </div>
    </div>
      
      <div id="history_record" class="tabcontent">
        <div class="container">
            <h2>历史记录</h2>
            <table class="table table-striped">
                <thead>
                    <tr>
                        <th>房间号</th>
                        <th>房间类型</th>
                        <th>消费金额</th>
                        <th>操作</th>
                    </tr>
                </thead>
                <tbody>
                    <!-- 数据行 -->
                </tbody>
            </table>
        </div>
    </div>
   
  
    
    <script src="{% static 'script_ms.js' %}"></script>
</body>
</html>
