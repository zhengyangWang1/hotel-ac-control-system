# hotel-ac-control-system 酒店空调管理系统
### SE小组作业

### 前端
user部分

1.登录注册（已实现）

2.toggleAC()函数，执行空调开机关机功能，在空调开机后，取消调节温度风速的控件的禁用。（已实现）

3.updateStatus()函数，每隔30s从后端获取空调状态，当前温度、当前风速、当前费用、累积费用，更新前端界面。（已实现）

manager部分
- [ ] monitor界面需要手动刷新，否则新加入的房间显示不出来
- [ ] monitor界面当前温度无法与用户端做到同步
- [ ] monitor界面空调状态和当前风速希望用汉字来表示，而非英文和数字
- [ ] front界面费用无法实时更新，且需要改为保留两位小数


1.登录注册（已实现）

2.当有客户办理入住进入房间时，在空调管理员界面的表格中增添一条新的房间、空调记录。每隔一段时间更新空调状态，房间账单状态（未实现）

3.添加下载详单按钮，从后端获取详单表格。（未实现）
#### 用户端


- [ x ] 从后端用{{ }}接收空调的状态
- [ x ] 用户更改温度和风速，提交form表单，包括(room_id, temp, wind_speed)
- [ x ] 开关空调的按钮，点击后执行对应函数，修改toggleAC()来实现，需要把room_id传给后端

#### 服务端

### views
#### 用户端

等待和服务队列中的room对象都是数据库中的数据，可以在views中查询更改

register函数：在用户点击办理入住时执行，将用户添加到数据库中的user表

login函数：返回login页面，在程序运行后立即执行

login_room函数：在用户点击进入房间，输入正确的id和密码时执行，转至tem_c2页面

open_ac函数：用户点击开机后执行，创建room对象，将空调加入调度队列，给前端返回空调状态

change_ac_state函数：空调有四个状态（1：服务，2：等待，3：关机，4：休眠），前端用js函数每秒轮询空调状态时执行该函数，函数把空调状态反馈给前端

change_temp_wind函数：用户更改风速和温度后点击确定，发送post请求到后端，执行该函数，更改Room表中的数据

close_ac函数：用户点击关机后执行，将空调从调度队列移除


#### 服务端


### 调度系统

- [ x ] 搞清楚调度队列中的对象是不是数据库中的表，是不是一条数据代表一个房间（在实现时发现一条数据一个房间是很有必要的）

### 打印账单和详单
