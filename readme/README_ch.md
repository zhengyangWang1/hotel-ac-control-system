# hotel-ac-control-system 酒店空调管理系统

Django全栈框架

## 项目架构

- 空调控制界面
    主要功能：
    - 用户的注册和登录
    - 控制空调的开启和关闭，改变空调的风速和温度。
    - 显示房间当前温度、目标温度、费用以及风速

- 空调监控界面
    主要功能：
    - 显示各房间空调状态，包括温度、风速以及费用

- 前台界面
    主要功能：
    - 下载各房间的空调使用详单（CSV文件）

## 项目背景

波普特(BUPT)廉价酒店位于京城五环外的大学城附近，周边环境优美清幽，适合旅游度假放松心情。该酒店成立于 2000 年，经过 10 年的经营积攒了良好的声誉，为了响应政府绿色环保经营的理念，期望构建空调温控计费系统:推崇多用多付出，少用少付出，不用不付出的计费模式，节省成本的同时使得顾客随时能查看已消费的金额，做到心中有数节省开支的目的，进一步吸引年轻人入住。酒店共有5个房间，但由于资源有闲，最多只能有3个房间开启空调。

## 后端实现

### 调度策略
基本的调度策略为:优先级调度+时间片调度。优先级调度的依据是请求的风速，为此调度时首先考虑优先级策略;当所有请求的风速相同时，再进行时间片调度;
1) 当服务对象数小于服务对象上限时，所有请求会被分配一个服务对象;
2) 当服务对象数大于等于服务对象上限时，启动调度策略:首先判断是否符合优先级策略;请求服务的风速和服务对象的风速的大小:
    - 2.1、如果 判断=大于，则启动优先级调度策略，再判断有几个服务对象的风速低于请求风速:
        - 2.1.1 如果只有一个，则该房间被放置于等待队列，并被分配一个等待服务时长:服务对象被释放并被分配给新的请求对象;
        - 2.1.2如果有多个服务对象的风速相等且低于请求对象，则服务时长最大的服务对象被释放并分配给新的请求对象，该房间被放置于等待队列，且分配一个等待服务时长;
        - 2.1.3 如果多个服务对象的风速低于请求风速，且风速不相等，则将风速最低的服务对象释放，该房间被放置于等待队列，且分配一个等待服务时长;
    - 2.2 如果 判断 = 相等，则启动时间片调度策略
        - 2.2.1 将请求对象放置于等待队列，并分配一个等待服务时长;
        - 2.2.2在这两分钟期间，如果没有何服务状态的变化，当等待服务时长=0 时将服务队列中服务时长最大的服务对象释放，该房间被放置于等待队列，且被分配一个等待服务时长:等待服务对象被分配一个服务对象开始服务;
        - 2.2.3在这等待的两分钟期间内，如果有任何一个服务对象的目标温度到达或关机(意味着服务对象释放)则等待队列中的等待服务时长最小的对象获得服务对象;
    -2.3 如果 判断 =小于，则 请求对象必须等到某个服务对象空闲后才能得到
    服务。

### 回温策略
空调可调温度范围18-25，开启空调时每分钟升温0.5度，当空调等待服务时，房间温度不变。当空调关机时，房间温度每分钟下降0.5度，直到下降到初始温度。

### 计费策略
费率只和风速有关。高风每分钟一元，中风每分钟0.5元，低风每分钟1/3元。